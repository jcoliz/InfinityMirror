#
# Build docker container
#

parameters:
- name: dockerfile
  type: string 
  default: '$(Solution.DockerContextDirectory)/docker/$(Solution.MainProject).dockerfile'

steps:
- task: Docker@2
  displayName: Build
  inputs:
    command: build
    dockerfile: ${{ parameters.dockerfile }}
    buildContext: '$(Solution.DockerContextDirectory)'
    arguments: '--build-arg SOLUTION_VERSION=$(Solution.Version)'
    tags: $(Container.Tags)
    repository: $(Container.Name)