#
# Push docker container to container registry
#

# REQUIRED VARIABLES:
# - dockerServiceConnectionName: Connection name for the Docker Registry connection
#

parameters:
- name: project
  type: string 
  default: $(Solution.MainProject)

variables:
  Project.ContainerName: '$(userName)/$(System.TeamProject)-${{ parameters.project }}'

steps:
- task: Docker@2
  displayName: Push
  inputs:
    command: push
    tags: $(Container.Tags)
    repository: $(Project.ContainerName)
    containerRegistry: $(dockerServiceConnectionName)
