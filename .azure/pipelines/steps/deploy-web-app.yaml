#
# Deploy an already-built web app to an Azure App Service
#
# Required parameters
#   - azureServiceConnectionName: Service connection to use for deployment
#   - azureAppServiceName: Name of app service

parameters:
- name: project
  type: string 
  default: $(Solution.MainProject)

variables:
  Project.ArtifactFile: '$(Build.ArtifactStagingDirectory)/${{ parameters.project }}-$(Build.BuildId).zip'

steps:
- task: AzureWebApp@1
  displayName: 'Deploy web app'
  inputs:
    azureSubscription: '$(azureServiceConnectionName)'
    appName: '$(azureAppServiceName)'
    appType: webAppLinux
    package: $(Project.ArtifactFile)
    deploymentMethod: 'zipDeploy'
    
