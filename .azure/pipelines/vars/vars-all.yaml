# Required parameters
# - userName: Registry organization/user prefix

variables:
  Solution.DefaultWorkingDirectory: $(Build.Repository.LocalPath)
  Solution.DockerContextDirectory: '$(Solution.DefaultWorkingDirectory)' 
  Solution.MainProject: Endpoint
  Solution.MainDirectory: '$(Solution.DefaultWorkingDirectory)/$(Solution.MainProject)'
  Solution.PublishDirectory: '$(Solution.DefaultWorkingDirectory)/Output.$(Solution.MainProject)'
  Container.Name: '$(userName)/${{ lower(variables.System.TeamProject) }}-${{ lower(variables.Solution.MainProject) }}'

  # TODO: We are going to want to build/push Endpoint AND Uploader containers